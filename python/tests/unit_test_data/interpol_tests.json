{
  "__SharedData": {
    "simple_ts_idx": {
      "tsdf": {
        "ts_col": "event_ts",
        "series_ids": ["symbol"]
      },
      "df": {
        "schema": "symbol string, event_ts string, open double, high double, low double, close double, num_trades long",
        "ts_convert": ["event_ts"],
        "data": [
          ["AAN", "2017-08-31 03:45:00", 349.958, 349.958, 348.715, 348.715, 2],
          ["AAN", "2017-08-31 04:00:00", 348.213, 348.213, 348.213, 348.213, 1],
          ["AAN", "2017-08-31 04:15:00", null, null, null, null, null],
          ["AAN", "2017-08-31 04:30:00", null, null, null, null, null],
          ["AAN", "2017-08-31 04:45:00", null, null, null, null, null],
          ["AAN", "2017-08-31 05:00:00", 347.322, 347.322, 347.322, 347.322, 1],
          ["AAN", "2017-08-31 05:15:00", 349.795, 349.795, 347.039, 347.039, 2],
          ["IBM", "2017-08-31 04:30:00", null, null, null, null, null],
          ["IBM", "2017-08-31 04:45:00", null, null, null, null, null],
          ["IBM", "2017-08-31 05:00:00", 347.603, 347.603, 347.603, 347.603, 1],
          ["IBM", "2017-08-31 05:15:00", 348.285, 348.285, 348.285, 348.285, 1],
          ["IBM", "2017-08-31 05:30:00", 347.881, 347.881, 347.881, 347.881, 1],
          ["IBM", "2017-08-31 05:45:00", 348.371, 348.371, 348.371, 348.371, 1],
          ["TBB", "2017-08-31 01:15:00", 347.816, 347.816, 346.781, 346.781, 2],
          ["TBB", "2017-08-31 01:30:00", 347.207, 347.207, 347.207, 347.207, 1],
          ["TBB", "2017-08-31 01:45:00", null, null, null, null, null],
          ["TBB", "2017-08-31 02:00:00", null, null, null, null, null],
          ["TBB", "2017-08-31 02:15:00", 347.415, 347.415, 347.415, 347.415, 1],
          ["TBB", "2017-08-31 02:30:00", null, null, null, null, null],
          ["TBB", "2017-08-31 02:45:00", null, null, null, null, null]
        ]
      }
    },
    "simple_ts_no_series": {
      "tsdf": {
        "ts_col": "event_ts",
        "series_ids": []
      },
      "df": {
        "schema": "event_ts string, trade_pr float",
        "ts_convert": ["event_ts"],
        "data": [
          ["2020-08-01 00:00:10", 349.21],
          ["2020-08-01 00:01:10", 743.01],
          ["2020-08-01 00:01:12", null],
          ["2020-08-01 00:01:24", null],
          ["2020-09-01 00:02:10", 361.1],
          ["2020-09-01 00:19:12", 362.1],
          ["2020-09-01 00:20:42", 762.33]
        ]
      }
    }
  },
  "InterpolationTests": {
    "test_zero_fill": {
      "simple_ts_idx": {
        "init": {
          "$ref": "#/__SharedData/simple_ts_idx"
        },
        "expected": {
          "tsdf": {
            "ts_col": "event_ts",
            "series_ids": ["symbol"]
          },
          "df": {
            "schema": "symbol string, event_ts string, open double, high double, low double, close double, num_trades long",
            "ts_convert": [
              "event_ts"
            ],
            "data": [
              ["AAN", "2017-08-31 03:45:00", 349.958, 349.958, 348.715, 348.715, 2],
              ["AAN", "2017-08-31 04:00:00", 348.213, 348.213, 348.213, 348.213, 1],
              ["AAN", "2017-08-31 04:15:00", 0.0, null, null, 0.0, null],
              ["AAN", "2017-08-31 04:30:00", 0.0, null, null, 0.0, null],
              ["AAN", "2017-08-31 04:45:00", 0.0, null, null, 0.0, null],
              ["AAN", "2017-08-31 05:00:00", 347.322, 347.322, 347.322, 347.322, 1],
              ["AAN", "2017-08-31 05:15:00", 349.795, 349.795, 347.039, 347.039, 2],
              ["IBM", "2017-08-31 04:30:00", 0.0, null, null, 0.0, null],
              ["IBM", "2017-08-31 04:45:00", 0.0, null, null, 0.0, null],
              ["IBM", "2017-08-31 05:00:00", 347.603, 347.603, 347.603, 347.603, 1],
              ["IBM", "2017-08-31 05:15:00", 348.285, 348.285, 348.285, 348.285, 1],
              ["IBM", "2017-08-31 05:30:00", 347.881, 347.881, 347.881, 347.881, 1],
              ["IBM", "2017-08-31 05:45:00", 348.371, 348.371, 348.371, 348.371, 1],
              ["TBB", "2017-08-31 01:15:00", 347.816, 347.816, 346.781, 346.781, 2],
              ["TBB", "2017-08-31 01:30:00", 347.207, 347.207, 347.207, 347.207, 1],
              ["TBB", "2017-08-31 01:45:00", 0.0, null, null, 0.0, null],
              ["TBB", "2017-08-31 02:00:00", 0.0, null, null, 0.0, null],
              ["TBB", "2017-08-31 02:15:00", 347.415, 347.415, 347.415, 347.415, 1],
              ["TBB", "2017-08-31 02:30:00", 0.0, null, null, 0.0, null],
              ["TBB", "2017-08-31 02:45:00", 0.0, null, null, 0.0, null]
            ]
          }
        }
      },
      "simple_ts_no_series": {
        "init": {
          "$ref": "#/__SharedData/simple_ts_no_series"
        },
        "expected": {
          "tsdf": {
            "ts_col": "event_ts",
            "series_ids": []
          },
          "df": {
            "schema": "event_ts string, trade_pr float",
            "ts_convert": ["event_ts"],
            "data": [
              ["2020-08-01 00:00:10", 349.21],
              ["2020-08-01 00:01:10", 743.01],
              ["2020-08-01 00:01:12", 0.0],
              ["2020-08-01 00:01:24", 0.0],
              ["2020-09-01 00:02:10", 361.1],
              ["2020-09-01 00:19:12", 362.1],
              ["2020-09-01 00:20:42", 762.33]
            ]
          }
        }
      }
    },
    "test_linear": {
      "simple_ts_idx": {
        "init": {
          "$ref": "#/__SharedData/simple_ts_idx"
        },
        "expected": {
          "tsdf": {
            "ts_col": "event_ts",
            "series_ids": ["symbol"]
          },
          "df": {
            "schema": "symbol string, event_ts string, open double, high double, low double, close double, num_trades long",
            "ts_convert": [
              "event_ts"
            ],
            "data": [
              ["AAN", "2017-08-31 03:45:00", 349.958, 349.958, 348.715, 348.715, 2],
              ["AAN", "2017-08-31 04:00:00", 348.213, 348.213, 348.213, 348.213, 1],
              ["AAN", "2017-08-31 04:15:00", 347.99025, null, null, 347.99025, null],
              ["AAN", "2017-08-31 04:30:00", 347.76750000000004, null, null, 347.76750000000004, null],
              ["AAN", "2017-08-31 04:45:00", 347.54475, null, null, 347.54475, null],
              ["AAN", "2017-08-31 05:00:00", 347.322, 347.322, 347.322, 347.322, 1],
              ["AAN", "2017-08-31 05:15:00", 349.795, 349.795, 347.039, 347.039, 2],
              ["IBM", "2017-08-31 04:30:00", null, null, null, null, null],
              ["IBM", "2017-08-31 04:45:00", null, null, null, null, null],
              ["IBM", "2017-08-31 05:00:00", 347.603, 347.603, 347.603, 347.603, 1],
              ["IBM", "2017-08-31 05:15:00", 348.285, 348.285, 348.285, 348.285, 1],
              ["IBM", "2017-08-31 05:30:00", 347.881, 347.881, 347.881, 347.881, 1],
              ["IBM", "2017-08-31 05:45:00", 348.371, 348.371, 348.371, 348.371, 1],
              ["TBB", "2017-08-31 01:15:00", 347.816, 347.816, 346.781, 346.781, 2],
              ["TBB", "2017-08-31 01:30:00", 347.207, 347.207, 347.207, 347.207, 1],
              ["TBB", "2017-08-31 01:45:00", 347.27633333333335, null, null, 347.27633333333335, null],
              ["TBB", "2017-08-31 02:00:00", 347.34566666666666, null, null, 347.34566666666666, null],
              ["TBB", "2017-08-31 02:15:00", 347.415, 347.415, 347.415, 347.415, 1],
              ["TBB", "2017-08-31 02:30:00", 347.415, null, null, 347.415, null],
              ["TBB", "2017-08-31 02:45:00", 347.415, null, null, 347.415, null]
            ]
          }
        }
      },
      "simple_ts_no_series": {
        "init": {
          "$ref": "#/__SharedData/simple_ts_no_series"
        },
        "expected": {
          "tsdf": {
            "ts_col": "event_ts",
            "series_ids": []
          },
          "df": {
            "schema": "event_ts string, trade_pr float",
            "ts_convert": ["event_ts"],
            "data": [
              ["2020-08-01 00:00:10", 349.21],
              ["2020-08-01 00:01:10", 743.01],
              ["2020-08-01 00:01:12", 615.7066650390625],
              ["2020-08-01 00:01:24", 488.4033508300781],
              ["2020-09-01 00:02:10", 361.1],
              ["2020-09-01 00:19:12", 362.1],
              ["2020-09-01 00:20:42", 762.33]
            ]
          }
        }
      }
    }
  }
}